{
  "version": 3,
  "sources": ["browser-route-module:/Users/alejandrocrosa/Desktop/projects/aleph-blog/app/routes/index.tsx?browser", "../../../app/routes/index.tsx", "../../../node_modules/react-timeago/es6/index.js", "../../../node_modules/react-timeago/es6/defaultFormatter.js", "../../../node_modules/react-timeago/es6/dateParser.js"],
  "sourcesContent": ["export { default } from \"/Users/alejandrocrosa/Desktop/projects/aleph-blog/app/routes/index.tsx\";", "import { Link, LoaderFunction, useLoaderData } from \"remix\";\nimport { getNotes, getSite } from \"~/lib/api\";\nimport TimeAgo from \"react-timeago\";\nimport { SubscribeBox } from \"./subscribe\";\n\nexport const loader: LoaderFunction = async () => {\n  const envSitePath = process.env.SITE_PATH as string;\n  const site = await getSite({ path: envSitePath });\n  const notes = await getNotes({ site_path: envSitePath });\n  return { site: site, notes: notes };\n};\n\nexport default function Index() {\n  const { site, notes } = useLoaderData();\n\n  return (\n    <div className=\"bg-white\">\n      <div className=\"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8\">\n        <div className=\"text-center\">\n          <h2 className=\"text-base font-semibold text-indigo-600 tracking-wide uppercase\">\n            Newsletter\n          </h2>\n          <p className=\"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl\">\n            {site.site.name}\n          </p>\n          <p className=\"max-w-xl mt-5 mx-auto text-xl text-gray-500\">\n            {site.site.headline}\n          </p>\n        </div>\n        <SubscribeBox />\n        <div className=\"max-w-xl mt-5 mx-auto\">\n          <ul role=\"list\" className=\"divide-y divide-gray-200\">\n            {site.notes.map((note) => (\n              <li key={note.id} className=\"py-5 px-4\">\n                <div className=\"flex justify-between space-x-3\">\n                  <Link\n                    to={`/emails/${note.path}`}\n                    className=\"text-2xl font-bold text-gray-900 truncate\"\n                  >\n                    <div className=\"min-w-0 flex-1\">{note.title}</div>\n                    <time\n                      dateTime={note.created_at}\n                      className=\"flex-shrink-0 whitespace-nowrap text-sm text-gray-500\"\n                    >\n                      <TimeAgo date={note.created_at} />\n                    </time>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n", "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from 'react';\nimport { useCallback, useEffect, useState } from 'react';\nimport defaultFormatter from './defaultFormatter';\nimport dateParser from './dateParser';\n// Just some simple constants for readability\nconst MINUTE = 60;\nconst HOUR = MINUTE * 60;\nconst DAY = HOUR * 24;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\nexport default function TimeAgo({\n  date,\n  formatter = defaultFormatter,\n  component = 'time',\n  live = true,\n  minPeriod = 0,\n  maxPeriod = WEEK,\n  title,\n  now = () => Date.now(),\n  ...passDownProps\n}) {\n  const forceUpdate = useUpdate();\n  useEffect(() => {\n    if (!live) {\n      return;\n    }\n\n    let timeoutId;\n\n    const tick = refresh => {\n      const then = dateParser(date).valueOf();\n\n      if (!then) {\n        console.warn('[react-timeago] Invalid Date provided');\n        return;\n      }\n\n      const timeNow = now();\n      const seconds = Math.round(Math.abs(timeNow - then) / 1000);\n      const unboundPeriod = seconds < MINUTE ? 1000 : seconds < HOUR ? 1000 * MINUTE : seconds < DAY ? 1000 * HOUR : 1000 * WEEK;\n      const period = Math.min(Math.max(unboundPeriod, minPeriod * 1000), maxPeriod * 1000);\n\n      if (period) {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n\n        timeoutId = setTimeout(tick, period);\n      }\n\n      if (!refresh) {\n        forceUpdate();\n      }\n    };\n\n    tick(true);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [date, forceUpdate, live, maxPeriod, minPeriod, now]);\n  const Komponent = component;\n  const then = dateParser(date).valueOf();\n\n  if (!then) {\n    return null;\n  }\n\n  const timeNow = now();\n  const seconds = Math.round(Math.abs(timeNow - then) / 1000);\n  const suffix = then < timeNow ? 'ago' : 'from now';\n  const [value, unit] = seconds < MINUTE ? [Math.round(seconds), 'second'] : seconds < HOUR ? [Math.round(seconds / MINUTE), 'minute'] : seconds < DAY ? [Math.round(seconds / HOUR), 'hour'] : seconds < WEEK ? [Math.round(seconds / DAY), 'day'] : seconds < MONTH ? [Math.round(seconds / WEEK), 'week'] : seconds < YEAR ? [Math.round(seconds / MONTH), 'month'] : [Math.round(seconds / YEAR), 'year'];\n  const passDownTitle = typeof title === 'undefined' ? typeof date === 'string' ? date : dateParser(date).toISOString().substr(0, 16).replace('T', ' ') : title;\n  const spreadProps = Komponent === 'time' ? { ...passDownProps,\n    dateTime: dateParser(date).toISOString()\n  } : passDownProps;\n  const nextFormatter = defaultFormatter.bind(null, value, unit, suffix);\n  return /*#__PURE__*/React.createElement(Komponent, _extends({}, spreadProps, {\n    title: passDownTitle\n  }), formatter(value, unit, suffix, then, nextFormatter, now));\n}\n\nfunction useUpdate() {\n  const [_, setCount] = useState(0);\n  return useCallback(() => {\n    setCount(num => num + 1);\n  }, []);\n}", "export default function defaultFormatter(value, _unit, suffix) {\n  const unit = value !== 1 ? _unit + 's' : _unit;\n  return value + ' ' + unit + ' ' + suffix;\n}", "export default function dateParser(date) {\n  const parsed = new Date(date);\n\n  if (!Number.isNaN(parsed.valueOf())) {\n    return parsed;\n  }\n\n  const parts = String(date).match(/\\d+/g);\n\n  if (parts == null || parts.length <= 2) {\n    return parsed;\n  } else {\n    const [firstP, secondP, ...restPs] = parts.map(x => parseInt(x));\n    const correctedParts = [firstP, secondP - 1, ...restPs];\n    const isoDate = new Date(Date.UTC(...correctedParts));\n    return isoDate;\n  }\n}"],
  "mappings": ";;;;;;;;;;;;;;;;AAAA;;;ACAA;;;ACAA;AAEA,aAAuB;AACvB,mBAAiD;;;ACHjD;AAAe,0BAA0B,OAAO,OAAO,QAAQ;AAC7D,QAAM,OAAO,UAAU,IAAI,QAAQ,MAAM;AACzC,SAAO,QAAQ,MAAM,OAAO,MAAM;AAAA;;;ACFpC;AAAe,oBAAoB,MAAM;AACvC,QAAM,SAAS,IAAI,KAAK;AAExB,MAAI,CAAC,OAAO,MAAM,OAAO,YAAY;AACnC,WAAO;AAAA;AAGT,QAAM,QAAQ,OAAO,MAAM,MAAM;AAEjC,MAAI,SAAS,QAAQ,MAAM,UAAU,GAAG;AACtC,WAAO;AAAA,SACF;AACL,UAAM,CAAC,QAAQ,YAAY,UAAU,MAAM,IAAI,OAAK,SAAS;AAC7D,UAAM,iBAAiB,CAAC,QAAQ,UAAU,GAAG,GAAG;AAChD,UAAM,UAAU,IAAI,KAAK,KAAK,IAAI,GAAG;AACrC,WAAO;AAAA;AAAA;;;AFfX,oBAAoB;AAAE,aAAW,OAAO,UAAU,SAAU,QAAQ;AAAE,aAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AAAE,UAAI,SAAS,UAAU;AAAI,eAAS,OAAO,QAAQ;AAAE,YAAI,OAAO,UAAU,eAAe,KAAK,QAAQ,MAAM;AAAE,iBAAO,OAAO,OAAO;AAAA;AAAA;AAAA;AAAY,WAAO;AAAA;AAAW,SAAO,SAAS,MAAM,MAAM;AAAA;AAOhT,IAAM,SAAS;AACf,IAAM,OAAO,SAAS;AACtB,IAAM,MAAM,OAAO;AACnB,IAAM,OAAO,MAAM;AACnB,IAAM,QAAQ,MAAM;AACpB,IAAM,OAAO,MAAM;AACJ,iBAAiB;AAAA,EAC9B;AAAA,EACA,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,OAAO;AAAA,EACP,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ;AAAA,EACA,MAAM,MAAM,KAAK;AAAA,KACd;AAAA,GACF;AACD,QAAM,cAAc;AACpB,8BAAU,MAAM;AACd,QAAI,CAAC,MAAM;AACT;AAAA;AAGF,QAAI;AAEJ,UAAM,OAAO,aAAW;AACtB,YAAM,QAAO,WAAW,MAAM;AAE9B,UAAI,CAAC,OAAM;AACT,gBAAQ,KAAK;AACb;AAAA;AAGF,YAAM,WAAU;AAChB,YAAM,WAAU,KAAK,MAAM,KAAK,IAAI,WAAU,SAAQ;AACtD,YAAM,gBAAgB,WAAU,SAAS,MAAO,WAAU,OAAO,MAAO,SAAS,WAAU,MAAM,MAAO,OAAO,MAAO;AACtH,YAAM,SAAS,KAAK,IAAI,KAAK,IAAI,eAAe,YAAY,MAAO,YAAY;AAE/E,UAAI,QAAQ;AACV,YAAI,WAAW;AACb,uBAAa;AAAA;AAGf,oBAAY,WAAW,MAAM;AAAA;AAG/B,UAAI,CAAC,SAAS;AACZ;AAAA;AAAA;AAIJ,SAAK;AACL,WAAO,MAAM;AACX,mBAAa;AAAA;AAAA,KAEd,CAAC,MAAM,aAAa,MAAM,WAAW,WAAW;AACnD,QAAM,YAAY;AAClB,QAAM,OAAO,WAAW,MAAM;AAE9B,MAAI,CAAC,MAAM;AACT,WAAO;AAAA;AAGT,QAAM,UAAU;AAChB,QAAM,UAAU,KAAK,MAAM,KAAK,IAAI,UAAU,QAAQ;AACtD,QAAM,SAAS,OAAO,UAAU,QAAQ;AACxC,QAAM,CAAC,OAAO,QAAQ,UAAU,SAAS,CAAC,KAAK,MAAM,UAAU,YAAY,UAAU,OAAO,CAAC,KAAK,MAAM,UAAU,SAAS,YAAY,UAAU,MAAM,CAAC,KAAK,MAAM,UAAU,OAAO,UAAU,UAAU,OAAO,CAAC,KAAK,MAAM,UAAU,MAAM,SAAS,UAAU,QAAQ,CAAC,KAAK,MAAM,UAAU,OAAO,UAAU,UAAU,OAAO,CAAC,KAAK,MAAM,UAAU,QAAQ,WAAW,CAAC,KAAK,MAAM,UAAU,OAAO;AACpY,QAAM,gBAAgB,OAAO,UAAU,cAAc,OAAO,SAAS,WAAW,OAAO,WAAW,MAAM,cAAc,OAAO,GAAG,IAAI,QAAQ,KAAK,OAAO;AACxJ,QAAM,cAAc,cAAc,SAAS;AAAA,OAAK;AAAA,IAC9C,UAAU,WAAW,MAAM;AAAA,MACzB;AACJ,QAAM,gBAAgB,iBAAiB,KAAK,MAAM,OAAO,MAAM;AAC/D,SAAoB,gBAAM,qBAAc,WAAW,SAAS,IAAI,aAAa;AAAA,IAC3E,OAAO;AAAA,MACL,UAAU,OAAO,MAAM,QAAQ,MAAM,eAAe;AAAA;AAG1D,qBAAqB;AACnB,QAAM,CAAC,GAAG,YAAY,2BAAS;AAC/B,SAAO,8BAAY,MAAM;AACvB,aAAS,SAAO,MAAM;AAAA,KACrB;AAAA;;;AD5EU,iBAAiB;AAC9B,QAAM,EAAE,MAAM,UAAU;AAExB,SACE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD;AAAA,IAAI,WAAU;AAAA,KAAkE,eAGhF,oCAAC,KAAD;AAAA,IAAG,WAAU;AAAA,KACV,KAAK,KAAK,OAEb,oCAAC,KAAD;AAAA,IAAG,WAAU;AAAA,KACV,KAAK,KAAK,YAGf,oCAAC,cAAD,OACA,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD;AAAA,IAAI,MAAK;AAAA,IAAO,WAAU;AAAA,KACvB,KAAK,MAAM,IAAI,CAAC,SACf,oCAAC,MAAD;AAAA,IAAI,KAAK,KAAK;AAAA,IAAI,WAAU;AAAA,KAC1B,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD;AAAA,IACE,IAAI,WAAW,KAAK;AAAA,IACpB,WAAU;AAAA,KAEV,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KAAkB,KAAK,QACtC,oCAAC,QAAD;AAAA,IACE,UAAU,KAAK;AAAA,IACf,WAAU;AAAA,KAEV,oCAAC,SAAD;AAAA,IAAS,MAAM,KAAK;AAAA;AAAA;",
  "names": []
}
